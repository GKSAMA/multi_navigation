<?xml version="1.0"?>
<launch>
  <!-- Default value for location of map config file -->
  <arg name="map_file" default="/home/gk/Documents/multi_turtlebot3_navigation/src/single_racecar_navigation/map/testmap1.yaml"/>
  <arg name="urdf_file" default="$(find xacro)/xacro --inorder '$(find single_racecar_navigation)/models/smartcar/urdf/smart.xacro'" />

  <!-- Loads robot_description to parameter server from URDF file-->
  <param name="robot_description" command="$(arg urdf_file)" />

  <!-- Map Server -->
  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)"/>

  <arg name="first_robot" value="smart_0"/>
  <!-- First Robot -->
  <group ns="smart_0">
    
    <!-- localization -->
    <node name="fake_localization" pkg="fake_localization" type="fake_localization" respawn="false" output="screen">
      <param name="global_frame_id" value="map"/>
      <param name="odom_frame_id" value="$(arg first_robot)/odom"/>
      <param name="base_frame_id" value="$(arg first_robot)/base_link"/>

      <remap from="base_pose_ground_truth" to="/$(arg first_robot)/odom"/>
    </node>
  </group>

  <!-- RVIZ configured for tb3_0/1 -->
  <node pkg="rviz" type="rviz" name="rviz" required="true"
         args="-d $(find single_racecar_navigation)/rviz/smart_test.rviz"/>
  
</launch>
