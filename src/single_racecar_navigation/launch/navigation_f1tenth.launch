<?xml version="1.0"?>
<launch>

  <arg name="f1tenth_0_init_x" default="6.5"/>
  <arg name="f1tenth_0_init_y" default="3.3245"/>
  <arg name="f1tenth_0_init_a" default="0.0"/>

  <!-- Default value for location of map config file -->
  <!-- <arg name="map_file" default="/home/gk/Documents/multi_turtlebot3_navigation/src/single_racecar_navigation/map/simple_parking_space_with_house.yaml"/> -->
  <arg name="map_file" default="/home/gk/Documents/multi_turtlebot3_navigation/src/single_racecar_navigation/map/plane.yaml"/>
  <!-- <arg name="map_file" default="/home/gk/Documents/multi_turtlebot3_navigation/src/single_racecar_navigation/map/testmap1.yaml"/> -->
  <!-- <arg name="map_file" default="/home/gk/Documents/multi_turtlebot3_navigation/src/single_racecar_navigation/map/simple_parking_space_with_house.yaml"/> -->
  <arg name="urdf_file" default="$(find xacro)/xacro --inorder '$(find single_racecar_navigation)/models/smartcar/urdf/smart.xacro'" />

  <!-- Loads robot_description to parameter server from URDF file-->
  <param name="robot_description" command="$(arg urdf_file)" />

  <!-- Map Server -->
  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)"/>

  <arg name="first_robot" value="f1tenth_0"/>
  <!-- First Robot -->
  <group ns="f1tenth_0">

    <!-- Robot State Publisher -->
    <!-- <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">
      <param name="publish_frequency" type="double" value="50.0" />
      <param name="tf_prefix" value="tb3_0"/>
    </node> -->


    
    <!-- localization -->
    <node name="fake_localization" pkg="fake_localization" type="fake_localization" respawn="false" output="screen">
      <param name="global_frame_id" value="map"/>
      <param name="odom_frame_id" value="$(arg first_robot)/odom"/>
      <param name="base_frame_id" value="$(arg first_robot)/base_link"/>

      <remap from="base_pose_ground_truth" to="/$(arg first_robot)/odom"/>
    </node>
  </group>

  <!-- RVIZ configured for tb3_0/1 -->
  <node pkg="rviz" type="rviz" name="rviz" required="true"
         args="-d $(find single_racecar_navigation)/rviz/f1tenth.rviz"/>
  
</launch>
